<apex:page Controller="PO_RiepilogoKITnew_Cntrl" id="pageIDRiepKitNew" docType="html-5.0" applyhtmltag="false" showheader="false" sidebar="false" standardstylesheets="false">
    <!-- PO_RiepilogoKITnew_Cntrl -->  
    <html lang="it">  
        <head> 
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>        
            <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
            <meta name="viewport" content="width=device-width, initial-scale=1"/>
            <title>Open Fiber</title>  
            <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" /> 
            <!-- Bootstrap Core CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/bootstrap/css/bootstrap.min.css')}"/>
            
            <!-- MetisMenu CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/metisMenu/metisMenu.min.css')}"/>
            
            <!-- Custom CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/dist/css/sbadmin2.css')}"/>
            
            <!-- Morris Charts CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/morrisjs/morris.css')}"/>
            
            <!-- Custom Fonts -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/fontawesome/css/fontawesome.min.css')}"/>
            
            <!-- /#wrapper -->
              
            <apex:includeScript value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/jquery/jquery.min.js')}"/>
            
            <!-- Bootstrap Core JavaScript -->
            <apex:includeScript value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/bootstrap/js/bootstrap.min.js')}"/>
            <script src='https://www.google.com/recaptcha/api.js'></script>
            <style>
                .navbar {
                min-height: 15px;
                }
                .navbar-header {
                float: none;
                }
                .navbar-default {
                background-color: #ffffff;
                }
                .panel-default>.panel-heading {
                color: #ffffff;
                background-color: #337ab7;
                }
                span.dateFormat{
                
                display:none;
                
                }
                .red{color:red;}
                .form-check-input{ 
                margin-left: 45px !important;
                margin-top: 10px;
                }
                .statoR{
                    color: #DC143C;
                }
                
            </style>
        </head> 
         
        <body>
            <div id="wrapper">
                <!-- Navigation -->
                <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
                    <c:PO_SideBarComponent />
                    
                    <div class="navbar-default sidebar" role="navigation">
                        <div class="sidebar-nav navbar-collapse">
                            <ul class="nav" id="side-menu">
                            </ul>
                        </div>
                        <!-- /.sidebar-collapse -->
                    </div>
                    <!-- /.navbar-static-side -->
                </nav> 
                
    <div id="page-wrapper" style="min-height: 534px;">    
        <div class="row">           
            <apex:form >
    <!--    <apex:actionFunction action="{!salvaModifche}" name="saveKitLog" /> -->
                <div class="panel panel-default" style="width:73.666667%;">
                
             <!-- EC <div class="panel-heading">
		                <apex:outputPanel rendered="{!!confirmPage}">
		                        <i></i>Bozza Richiesta
		                </apex:outputPanel> 
		         		<apex:outputPanel rendered="{!AND(confirmPage,!error,!success)}">
		                        <i></i>Conferma Richiesta
		                </apex:outputPanel> 
		                <apex:outputPanel rendered="{!OR(error,success)}">
		                        <i></i>KIT
		                </apex:outputPanel> 
            	    </div> -->
            	    
            	    <div class="panel-heading">
            	    	<apex:outputPanel >
		                        <i></i>KIT
		                </apex:outputPanel> 
            	    
            	    </div>
            	    
	                <div class="panel-body">
                        <apex:actionStatus id="actStatusId" >								               
                            <apex:facet name="start">
                            <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 1000; background-color: black;">
                                &nbsp;
                                </div>
                                <div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0; z-index: 1001; margin: 15% 50%">
                                    <div style="display: inline-block; padding: 2px; background-color: #fff; width: 125px;">
                                    <img src="/img/loading.gif" style="float: left; margin: 8px;" />
                                    <span style="display: inline-block; padding: 10px 0px;">Please Wait...</span>
                                </div>
                            </div>
                            </apex:facet>
                        </apex:actionStatus>       
	                    <div class="row">
	                        <div style="color:red;" id="showerror">
	                            <apex:pageMessages id="errors" /> 
	                        </div>
	           <!-- EC probabilmente da cancellare.
	                     <apex:outputPanel rendered="{!error}" >
		                    <div class="panel-heading red" >
		                        <i></i>Richiesta errata: {!motivoErr}
		                   </div>
		                </apex:outputPanel> -->
		              
                <!--EC 	<apex:outputPanel rendered="{!showAnnulla}">
                             <div class="panel-heading red" >
    	                        <i></i>Richiesta Annullata
    	                     </div>
    	                </apex:outputPanel>  -->
    		                
	                        <form role="form" class="form-horizontal">
	                           <!-- campi in sola lettura -->
	                            <apex:outputPanel rendered="{!NOT(richiestaAttivazione)}" >  
	                            <fieldset class="form-group">
	                                 <div class="form-group">
	                                  
	                                     <div class="col-lg-6">
	                                         <label>Codice KIT : </label> &nbsp; &nbsp;
	                                         <apex:outputField id="codiceKit" styleClass="form-control" value="{!cei.PO_PP_Nome_KIT__c}" />
	                                     </div>
	                                     <div class="col-lg-6">
	                                         <label>Servizio Commerciale : </label> &nbsp; &nbsp;
	                                         <apex:outputField id="Traffico" styleClass="form-control" value="{!cei.PO_PP_Servizio_Commerciale__c}"/>
	                                     </div>
	                                    
	                                     <div class="col-lg-6">
	                                         <label>POP di consegna :</label> &nbsp; &nbsp;
	                                         <apex:outputField id="POP" styleClass="form-control"  value="{!cei.PO_PP_Pop__c}" />
	                                     </div>
    	                                 <div class="col-lg-6">
    	                                     <label>Banda :</label> &nbsp; &nbsp;
    	                                     <apex:outputField id="BandaInterfaccia" styleClass="form-control" value="{!cei.PO_PP_Banda_Interfaccia__c}"/>
    	                                 </div>
    	                                 <div class="col-lg-6">
    	                                     <label>Interfaccia :</label> &nbsp; &nbsp;
    	                                     <apex:outputField id="Interfaccia" styleClass="form-control" value="{!cei.PO_PP_InterfacciaKit__c}"/>
    	                                 </div>
    	                              
	                             <!--   <div class="col-lg-6">
	                                        <label>Note : </label> &nbsp; &nbsp;
	                                        <apex:outputField id="noteOLO" styleClass="form-control"  value="{!cei.PO_PP_Note__c}"/>
	                                    </div> -->
	                                    
	                                        <!--Rajani Nome Kit and stato constant----->
                                       
                                        <apex:outputPanel rendered="{!isAvailable }">
                                        <div class="col-lg-6">
                                            <label>Nome KIT : </label> &nbsp; &nbsp;
                                            <apex:outputField styleClass="form-control"  value="{!cei.PO_PP_Nome_KIT__c}"/>
                                        </div>
                                            
                                        <div>
                                        &nbsp; &nbsp;<label>Posizione ODF: </label> &nbsp; &nbsp;
                                        <apex:outputText value="{!cei.PO_PP_Posizione_ODF__c}"/>
                                    	</div>
                                          
                                        <div>
                                        &nbsp; &nbsp;<label>Stato: </label> &nbsp; &nbsp;
                                        <apex:outputText value="{!cei.OF_Stato__c}"/>
                                        </div>
                                          
                                       	
                                        
                                        </apex:outputPanel>
                                        <!---Rajani--->
	                                    
	                               </div>
	                                 
	                            </fieldset>
	                             
	                        </apex:outputPanel>
	                                                
                            <apex:outputPanel >
                                    <div class="col-lg-6" >
                                        <div class="btn-group" role="group" aria-label="Basic example" >          
                                            <apex:commandButton styleClass="btn btn-primary" style="margin-right:10px; margin-top:10px;" 
                                                value="Inserisci VLAN" action="{!insertVLAN}"/>        
                                        </div>
                                    </div>  
                                </apex:outputPanel>	 
        		                
	                        </form>
	                    </div>    
	                    <br/>
	                     
	                    <!-- Add by PG - 09-11 - Tabella di VLAN inserite -->
	                    <apex:pageBlock rendered="{!showInsertVLAN}" >
	                    <apex:pageBlockTable value="{!ceiListRichiesteVLAN}" var="ceiVlan" id="myTable" styleClass="table table-striped table-bordered">

                     <!--EC start 20181130   	<apex:column >
                                <apex:facet name="header">
                                   <ul class="list-unstyled">
    							    	<li class="">Codice VLAN</li>
                                    </ul>
                                </apex:facet> 
                                <apex:outputField value="{!ceiVlan.OF_Case__r.Codice_Ordine_SO__c}" />
                            </apex:column> 
                            
                   		  <apex:column >
                                <apex:facet name="header">
                                   <ul class="list-unstyled">
    							    	<li class="">Stato Ordine</li>
                                    </ul>
                                </apex:facet>
                                <apex:outputField value="{!ceiVlan.OF_Case__r.Status}" />
                            </apex:column> -->

                            <apex:column >
                                 <apex:facet name="header">
                                 	<ul class="list-unstyled">
    							    	<li class="">POP di raccolta</li>
                                    </ul>
                                 </apex:facet>
                                 <apex:outputField value="{!ceiVlan.PO_PP_POP_SVLAN__c}" />
                            </apex:column>
                            
                            <apex:column >
                                 <apex:facet name="header">
                                 	<ul class="list-unstyled">
    							    	<li class="">COS Remarking</li>
                                    </ul>
                                 </apex:facet>
                                 <apex:outputField value="{!ceiVlan.PO_PP_Cos_remarking__c}" />
                            </apex:column>
                             
                             <apex:column >
                                 <apex:facet name="header">
                                 	<ul class="list-unstyled">
    							    	<li class="">DHCP Option82</li>
                                    </ul>
                                 </apex:facet>
                                 <apex:outputField value="{!ceiVlan.PO_PP_DHCP_Option82__c}" />
                             </apex:column>
                             
                            <apex:column >
                                 <apex:facet name="header">
                                 	<ul class="list-unstyled">
    							    	<li class="">Service VLAN</li>
                                    </ul>
                                 </apex:facet>
                                 <apex:outputField value="{!ceiVlan.OF_ServiceVLAN__c}" />
                            </apex:column>
                             
                            <apex:column >
                                 <apex:facet name="header">
                                 	<ul class="list-unstyled">
    							    	<li class="">User VLAN</li>
                                    </ul>
                                 </apex:facet>
                                 <apex:outputField value="{!ceiVlan.OF_UserVLAN__c}" />
                            </apex:column>

                            <apex:column >
                                 <apex:facet name="header">
                                 	<ul class="list-unstyled">
                                 		<li>COS Type</li>
                                 	</ul>
                                 </apex:facet>
                                 <apex:outputField value="{!ceiVlan.PO_PP_Cos_Type__c}" />                                             
                            </apex:column>
                            
                            <apex:column >
                                 <apex:facet name="header">
                                 	<ul class="list-unstyled">
                                 		<li>COS Class</li>
                                 	</ul>
                                 </apex:facet>
                                 <apex:outputField value="{!ceiVlan.PO_PP_Cos_Class__c}" />                                             
                             </apex:column>
                             
                        </apex:pageBlockTable>
                        </apex:pageBlock>    
                         
	                </div>
                </div>
            </apex:form>
            </div>
            </div>
            </div>
            <script type='text/javascript'>            
                
                function validateform()
            	{
                    var invalidflg = false;       
                    var pop = $('[id$=POP_MOD]').val();
                    //var traffico = $('[id$=traffico]').val();
                    var banda = $('[id$=BandaInterfaccia_MOD]').val();
                    var interfaccia = $('[id$=Interfaccia_MOD]').val();
                    //var modello = $('[id$=modello]').val();
                    //var servizi = $('[id$=servizi]').val();
                    //var nomeKit = $('[id$=nomeKit]').val();
                    //var posizione = $('[id$=posizione]').val();                    
               
                    var PO_Offerta = 'KIT';
                    //alert(PO_Offerta);
 
                    if(pop.length == 0)
                    {
                        $('[id$=POP_MOD]').next('div.red').remove();
                        $('[id$=POP_MOD]').after('<div class="red">Campo obbligatorio</div>');
                        invalidflg = true;
                    }
                    else
                    {
                        $('[id$=POP_MOD]').next('div.red').remove();
                    } 
                    
                    if(pop.length >=10)
                    {
                        $('[id$=POP_MOD]').next('div.red').remove();
                        $('[id$=POP_MOD]').after('<div class="red">La lunghezza massima consentita è 10</div>');
                        invalidflg = true;
                    }
                    else
                    {
                        $('[id$=POP_MOD]').next('div.red').remove();
                    } 
                    /*
                    if(banda.length == 0)
                    {
                        $('[id$=BandaInterfaccia_MOD]').next('div.red').remove();
                        $('[id$=BandaInterfaccia_MOD]').after('<div class="red">Campo obbligatorio</div>');
                        invalidflg = true;
                    }
                    else
                    {
                        $('[id$=BandaInterfaccia_MOD]').next('div.red').remove();
                    }
                    */
                    /*  
                    if(traffico.length == 0)
                    {
                        $('[id$=traffico]').next('div.red').remove();
                        $('[id$=traffico]').after('<div class="red">Campo obbligatorio</div>');
                        invalidflg = true;
                    }
                    else
                    {
                        $('[id$=traffico]').next('div.red').remove();
                    }   */
                    if (!invalidflg){
                       
                        saveKitLog();
                    }
            	}    
    
            </script>
        </body>
    
    </html>
</apex:page>