<apex:page standardController="Case" extensions="PO_RegistrationController" docType="html-5.0" applyhtmltag="false" showheader="false" sidebar="false" standardstylesheets="false">
    <html lang="en">
        <head >
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>        
            <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
            <meta name="viewport" content="width=device-width, initial-scale=1"/>
            <title>Open Fiber</title>  
            
            <!-- Bootstrap Core CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/bootstrap/css/bootstrap.min.css')}"/>
            
            <!-- MetisMenu CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/metisMenu/metisMenu.min.css')}"/>
            
            <!-- Custom CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/dist/css/sbadmin2.css')}"/>
            
            <!-- Morris Charts CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/morrisjs/morris.css')}"/>
            
            <!-- Custom Fonts -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/fontawesome/css/fontawesome.min.css')}"/>
            
            <style>
                .navbar {
                min-height: 105px;
                }
                .navbar-header {
                float: none;
                }
                .navbar-default {
                background-color: #ffffff;
                }
                .panel-default>.panel-heading {
                color: #ffffff;
                background-color: #337ab7;
                }
                span.dateFormat{
                
                display:none;
                
                }
                .red{color:red;}
                .form-check-input{ 
                margin-left: 45px !important;
                margin-top: 10px;
                color:#0000ff; !important;
                }
                
            </style>
        </head>
        <body>
            
            <div id="wrapper">
                
                <!-- Navigation -->
                
                <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
                    
                    <!--<c:POHeaderComp />-->
                    <c:PO_SideBarComponent Rec="{!recordOfferta}" ShowPageRef="{!showPage}"  />
                      
                    
                    <div class="navbar-default sidebar" role="navigation">
                        <div class="sidebar-nav navbar-collapse">
                           <ul class="nav" id="side-menu" style="padding-left: 10px;">
                               
                                
                            </ul>
                        </div>
                        <!-- /.sidebar-collapse -->
                    </div>
                    <!-- /.navbar-static-side -->
                    
                </nav>
                  <apex:OutPutPanel rendered="{!showPage}">
                <div id="page-wrapper">
                    <div class="row">
                        <div class="col-lg-12">
                            <h1 class="page-header">Richiesta di Registrazione</h1>
                            <!--
<p>
Ti consente di usufruire di numerosi servizi on line come controllare i consumi o gestire le tue pratiche.
</p>-->
                        </div>
                        <!-- /.col-lg-12 --EnelDev-->
                    </div>
                    
                    <div class="row">
                        <div class="col-lg-8" style="width:73.666667%">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <i class="fa fa-sign-in fa-fw"></i>ti i tuoi dati
                                </div>
                                <div class="panel-body">
                                    <div class="row">
                                        <apex:form >
                                            <div style="color:red;" id="showerror">
                                                <apex:pageMessages id="errors" /> 
                                                <!-- <apex:outputLabel id="errors" style="color:red" value="{!outputError}" rendered="{!NOT(ISBLANK(outputError))}"></apex:outputLabel> -->
                                            </div>
                                            
                                            <form role="form" class="form-horizontal"  >
                                                <div class="form-group">
                                                    <div class="col-lg-6">
                                                        <label>Nome *</label>
                                                        <!--  <apex:inputField id="fname" styleClass="form-control" value="{!cont.FirstName}" html-placeholder="Inserisci il testo" /> -->
                                                        <apex:inputField id="fname" styleClass="form-control"  value="{!caseObj.PO_Nome_Registrazione__c}"/>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label>Cognome *</label>
                                                        <!--  <apex:inputText id="lname" styleClass="form-control" value="{!cognome}" html-placeholder="Inserisci il testo" />-->
                                                        <apex:inputField id="lname" styleClass="form-control" value="{!caseObj.PO_Cognome_Registrazione__c}"/>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-6">
                                                        <label>Email *</label>
                                                        <!-- <apex:inputField id="dob" styleclass="form-control" type="date" html-placeholder="DD/MM/YYYY" value="{!cont.BirthDate__c}"/>-->
                                                        <apex:inputField id="Email" styleClass="form-control" value="{!caseObj.PO_Email_Registrazione__c}"/>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label>Contatto telefonico *</label>
                                                        <!--<apex:inputField id="codice" value="{!cont.Codice_fiscale__c}" styleClass="form-control" html-placeholder="Inserisci il testo" /> -->
                                                        <apex:inputField id="Contattotele" styleClass="form-control" value="{!caseObj.PO_Telefono_Registrazione__c}"/>
                                                        
                                                    </div>                                                                                                                                                    
                                                </div>
                                                <div class="form-group">                                                    
                                                    <div class="col-lg-6">
                                                        <label>Azienda *</label>
                                                        <!--<apex:inputField id="emailId" styleclass="form-control" html-placeholder="Indirizzo e-mail valido" value="{!cont.Email}"/>-->
                                                        <apex:outputtext id="Azienda" styleClass="form-control" value="{!accountname}"/>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                           
                                           
                                           
                                           
                                           
                                                    <div class="col-lg-6">
                                                        <label>Struttura di appartenenza</label>
                                                        <!--<apex:inputField id="resState" value="{!cont.GFPState_of_birth__c}" styleClass="form-control" html-placeholder="Inserisci il testo"/>-->
                                                        <apex:inputField id="Strutturadiapp" styleClass="form-control" value="{!caseObj.PO_Struttura_di_appartenenza_registrazio__c}"/>
                                                    </div>
                                                    
                                                    <div class="col-lg-6" style="float:right">
                                                        <label>Note </label>
                                                        <!--<apex:inputField id="stat" value="{!cont.Residence_state__c}" styleclass="form-control" />-->
                                                        <apex:inputField id="Note" styleClass="form-control" value="{!caseObj.PO_Note_richiesta_di_Registrazione__c}"/>
                                                    </div> 
                                                    
                                                    
                                                </div>
                                                <div class="form-group">
                                                    <!--<div class="col-lg-6">
<label>Profilo Super-User  </label>                                                       
<apex:inputField id="ProfiloSuperUser" styleClass="form-check-input" value="{!caseObj.PO_Profilo_Super_User__c}"/>
</div>-->
                                                    <label class="form-check-label">Funzionalità </label> &nbsp;
                                                    <br/>
                                                    <!-- <div class="col-lg-6" style="column-count:2">-->
                                                    <div class="col-lg-6">
                                                        <div class="form-check">
                                                            <div class="col-lg-6">

                                                                <!--
                                                                <apex:inputField id="Classifun" value="{!caseObj.PO_P2P_Base__c}" style="color:blue;width:20px;height:20px;"/>
                                                                -->
                                                                
                                                                <!--
                                                                <apex:inputField rendered="{!show1}" value="{!caseObj.PO_P2P_Base__c}" style="color:blue;width:20px;height:20px;"/>
                                                                <apex:inputField id="Classifun" rendered="{!NOT(show1)}" html-disabled="true" value="{!caseObj.PO_P2P_Base__c}" style="color:blue;width:20px;height:20px;"/>                                                                
                                                                &nbsp;<label class="form-check-label" style="font-size: 12px;">P2P Base  </label> 
                                                                -->
                                                                <apex:inputField id="P2P_BaseId" rendered="{!show1}" styleClass="form-check-input" value="{!caseObj.PO_P2P_Base__c}" style="color:blue;width:20px;height:20px;"/>                                                            
																<apex:outputLabel value="P2P Base" for="P2P_BaseId" rendered="{!show1}" /> 
                                                                
                                                                <br/>

                                                                <!-- 
                                                                <apex:inputField id="P2P_AttId" value="{!caseObj.PO_P2P_Attiva__c}" style="color:blue;width:20px;height:20px;"/>
                                                                -->
                                                                
                                                                <!--
                                                                <apex:inputField rendered="{!showP2PAtt}" value="{!caseObj.PO_P2P_Attiva__c}" style="color:blue;width:20px;height:20px;"/>
                                                                <apex:inputField id="P2P_AttId" rendered="{!NOT(showP2PAtt)}" html-disabled="true" value="{!caseObj.PO_P2P_Attiva__c}" style="color:blue;width:20px;height:20px;"/>                                                                
                                                                &nbsp;<label class="form-check-label" style="font-size: 12px;">P2P Attiva </label> 
																-->
                                                            	<apex:inputField id="P2P_AttivaId" rendered="{!showP2PAtt}" styleClass="form-check-input" value="{!caseObj.PO_P2P_Attiva__c}" style="color:blue;width:20px;height:20px;"/>                                                            
																<apex:outputLabel value="P2P Attiva" for="P2P_AttivaId" rendered="{!showP2PAtt}" />                                                                  

                                                                <br/>
                                                                

                                                                <!--
                                                                <apex:inputField id="Classeifun" value="{!caseObj.PO_Fiber_Lease__c}" style="color:blue;width:20px;height:20px;"/>
                                                                -->
                                                                
                                                                <!--
                                                                <apex:inputField rendered="{!show2}" value="{!caseObj.PO_Fiber_Lease__c}" style="color:blue;width:20px;height:20px;"/>
                                                                <apex:inputField id="Classeifun" rendered="{!NOT(show2)}" html-disabled="true" value="{!caseObj.PO_Fiber_Lease__c}" style="color:blue;width:20px;height:20px;"/>                                                                
                                                                &nbsp;<label class="form-check-label" style="font-size: 12px;">Fiber Lease  </label> 
																-->
                                                            	<apex:inputField id="PO_Fiber_LeaseId" rendered="{!show2}"  styleClass="form-check-input" value="{!caseObj.PO_Fiber_Lease__c}" style="color:blue;width:20px;height:20px;"/>                                                            
                                                            	<apex:outputLabel value="Fiber Lease" for="PO_Fiber_LeaseId" rendered="{!show2}" />                                                                

                                                                <br/>
                                                            </div>
                                                            <div class="col-lg-6">
                                                                <!--
                                                                <apex:inputField id="Claseifun" value="{!caseObj.PO_Fiber_Link__c}" style="color:blue;width:20px;height:20px;"/>
                                                                -->
                                                                
                                                                <!--
                                                                <apex:inputField rendered="{!show3}" value="{!caseObj.PO_Fiber_Link__c}" style="color:blue;width:20px;height:20px;"/>
                                                                <apex:inputField id="Claseifun" rendered="{!NOT(show3)}" html-disabled="true" value="{!caseObj.PO_Fiber_Link__c}" style="color:blue;width:20px;height:20px;"/>                                                                
                                                                &nbsp;<label class="form-check-label" style="font-size: 12px;">Fiber Link </label> 
																-->
                                                                <apex:inputField id="PO_Fiber_LinkId" rendered="{!show3}" styleClass="form-check-input" value="{!caseObj.PO_Fiber_Link__c}" style="color:blue;width:20px;height:20px;"/>                                                            
                                                            	<apex:outputLabel value="Fiber Link" for="PO_Fiber_LinkId" rendered="{!show3}" />

                                                                <br/>
                                                                
                                                                <!--
                                                                <apex:inputField id="Clasefun" value="{!caseObj.PO_IRU__c}" style="color:blue;width:20px;height:20px;"/>
                                                                -->
                                                                
                                                                <!--
                                                                <apex:inputField rendered="{!show4}" value="{!caseObj.PO_IRU__c}" style="color:blue;width:20px;height:20px;"/>
                                                                <apex:inputField id="Clasefun" rendered="{!NOT(show4)}" html-disabled="true" value="{!caseObj.PO_IRU__c}" style="color:blue;width:20px;height:20px;"/>                                                                
                                                                &nbsp;<label class="form-check-label" style="font-size: 12px;">IRU </label> 
                                                                -->
                                                                <apex:inputField id="PO_IRUId" rendered="{!show4}"  styleClass="form-check-input" value="{!caseObj.PO_IRU__c}" style="color:blue;width:20px;height:20px;"/>                                                                                                                        
                                                            	<apex:outputLabel value="IRU" for="PO_IRUId" rendered="{!show4}" />
                                                                
                                                                <br/>
                                                                </div>
                                                                 <div class="col-lg-6">
                                                                
                                                                <!--     
                                                                <apex:inputField id="Clasfun" value="{!caseObj.PO_Misto_Fiber_Lease_Link_per_Fastweb__c}" style="color:blue;width:20px;height:20px;"/>
                                                                -->
                                                                     
                                                                <!--     
                                                                <apex:inputField rendered="{!show5}" value="{!caseObj.PO_Misto_Fiber_Lease_Link_per_Fastweb__c}" style="color:blue;width:20px;height:20px;"/>
                                                                <apex:inputField id="Clasfun" rendered="{!NOT(show5)}" html-disabled="true" value="{!caseObj.PO_Misto_Fiber_Lease_Link_per_Fastweb__c}" style="color:blue;width:20px;height:20px;"/>                                                                                                                                     
                                                                &nbsp;<label class="form-check-label" style="font-size: 12px;" >Evento Temporaneo </label> 
																-->
                                                                <apex:inputField id="MistoFiberLeaseId" rendered="{!show5}" styleClass="form-check-input" value="{!caseObj.PO_Misto_Fiber_Lease_Link_per_Fastweb__c}" style="color:blue;width:20px;height:20px;"/>                                                            
                                                            	<apex:outputLabel value="Evento Temporaneo" for="MistoFiberLeaseId" rendered="{!show5}" />

                                                               <br/>
                                                            </div>
                                                

                                                            

                                                            <div class="col-lg-6"> 
                                                                <!--
                                                                <apex:inputField id="BackhaulinRegID" value="{!caseObj.PO_Backhauling__c}" style="color:blue;width:20px;height:20px;"/>
                                                                -->
                                                                
                                                                <!--
                                                                <apex:inputField rendered="{!showBackhauling}" value="{!caseObj.PO_Backhauling__c}" style="color:blue;width:20px;height:20px;"/>
                                                                <apex:inputField id="BackhaulinRegID" rendered="{!NOT(showBackhauling)}" html-disabled="true" value="{!caseObj.PO_Backhauling__c}" style="color:blue;width:20px;height:20px;"/>                                                                                                                                     
                                                                &nbsp;<label class="form-check-label" style="font-size: 12px;" >Backhauling </label> 
																-->
                                                                <apex:inputField id="BackhaulingID" rendered="{!showBackhauling}" styleClass="form-check-input" value="{!caseObj.PO_Backhauling__c}" style="color:blue;width:20px;height:20px;"/>                                                            
                                                            	<apex:outputLabel value="Backhauling" for="BackhaulingID" rendered="{!showBackhauling}" />

                                                               <br/>
                                                            </div>

                                                
                                                            
                                                             <div class="col-lg-6"> 
                                                                <!--
                                                                <apex:inputField id="changeOrderID" value="{!caseObj.PO_Change_Order__c}" style="color:blue;width:20px;height:20px;"/>
                                                                -->
                                                                 
                                                                <!--
                                                                <apex:inputField rendered="{!showChangeOrder}" value="{!caseObj.PO_Change_Order__c}" style="color:blue;width:20px;height:20px;"/>
                                                                <apex:inputField id="changeOrderID" rendered="{!NOT(showChangeOrder)}" html-disabled="true" value="{!caseObj.PO_Change_Order__c}" style="color:blue;width:20px;height:20px;"/>                                                                                                                                    
                                                                &nbsp;<label class="form-check-label" style="font-size: 12px;" >Change Order </label> 
                                                                -->
                                                                <apex:inputField id="ChangeOrder_Id" rendered="{!showChangeOrder}" styleClass="form-check-input" value="{!caseObj.PO_Change_Order__c}" style="color:blue;width:20px;height:20px;"/>                                                            
                                                            	<apex:outputLabel value="Change Order" for="ChangeOrder_Id" rendered="{!showChangeOrder}" />

                                                               <br/>
                                                            </div>
                                                           
                                                             
                                                             <div class="col-lg-6">   
                                                                 
                                                                <!--
                                                                <apex:inputField id="btsID" value="{!caseObj.PO_BTS__c}" style="color:blue;width:20px;height:20px;"/>
                                                                -->
                                                                 
                                                                <!--
																<apex:inputField rendered="{!showBTS}" value="{!caseObj.PO_BTS__c}" style="color:blue;width:20px;height:20px;"/>
                                                                <apex:inputField id="btsID" rendered="{!NOT(showBTS)}" html-disabled="true" value="{!caseObj.PO_BTS__c}" style="color:blue;width:20px;height:20px;"/>                                                                                                                                                                              
                                                                &nbsp;<label class="form-check-label" style="font-size: 12px;" >BTS </label> 
                                                                -->
                                                                <apex:inputField id="BTSID" rendered="{!showBTS}" styleClass="form-check-input" value="{!caseObj.PO_BTS__c}" style="color:blue;width:20px;height:20px;"/>                                                            
                                                                <apex:outputLabel value="BTS" for="BTSID" rendered="{!showBTS}" />
                                                                 
                                                               <br/>
                                                            </div>  
                                                            
                                                             <div class="col-lg-6">   
                                                                 
                                                                <!--
																<apex:inputField rendered="{!showDarkFiber}" value="{!caseObj.PO_DarkFiber__c}" style="color:blue;width:20px;height:20px;"/>
                                                                <apex:inputField id="darkFiberID" rendered="{!NOT(showDarkFiber)}" html-disabled="true" value="{!caseObj.PO_DarkFiber__c}" style="color:blue;width:20px;height:20px;"/>                                                                                                                                                                              
                                                                &nbsp;<label class="form-check-label" style="font-size: 12px;" >Dark Fiber </label> 
                                                                -->
                                                                <apex:inputField id="DarkFiberID" rendered="{!showDarkFiber}" styleClass="form-check-input" value="{!caseObj.PO_DarkFiber__c}" style="color:blue;width:20px;height:20px;"/>                                                            
                                                                <apex:outputLabel value="Dark Fiber" for="DarkFiberID" rendered="{!showDarkFiber}" />

                                                               <br/>
                                                            </div> 

                                                        </div> 
                                                        
                                                        
                                                    </div>
                                                    
                                                    <div class="col-lg-6" style="margin-top: 5px;">                                                        

                                                        <!-- <div class="g-recaptcha" data-sitekey="6LfoqjAUAAAAAPXlDsLbC4SjeMSwwEtlBmjhTHnA" > </div>  --> <!-- Valido per collaudo -->
                                                   
                                                        <div class="g-recaptcha" data-sitekey="6Lcrbm8UAAAAAH164nvwb5zu-P4N1DuG0k3JQFlt" ></div>
                                                        
                                                   
                                                        <span id="captcha" style="color:red"> </span>
                                                       
                                                    </div>
                                                    
                                                </div>
                                                
                                                <br/>
                                                <div class="form-group">
                                                    <div class="col-lg-6 col-offset-6">
                                                        <apex:commandButton styleClass="btn btn-primary" value="REGISTRATI" onclick="validateform();" reRender="errors" /> 
                                                    </div>
                                                </div>
                                            </form>
                                            <apex:actionFunction action="{!saveCasesFromWeb}" name="saveMyDetails" /> 
                                        </apex:form> 
                                        <br/>
                                    </div>
                                    <!-- /.row (nested) -->
                                </div>
                                <!-- /.panel-body -->
                            </div>       
                            
                            <div class="col-lg-4">
                                
                            </div>
                            <!-- /.col-lg-4 -->
                        </div>
                        <!-- /.row -->
                    </div>
                    <!-- /#page-wrapper -->
                    
                </div>
                </apex:OutPutPanel>
            </div>
            <!-- /#wrapper -->
            
            <apex:includeScript value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/jquery/jquery.min.js')}"/>
            
            <!-- Bootstrap Core JavaScript -->
            <apex:includeScript value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/bootstrap/js/bootstrap.min.js')}"/>
            <script src='https://www.google.com/recaptcha/api.js'></script>
            
            <script>
                j$ = jQuery.noConflict();    
            
            function validateform(){
                
                var invalidflg = false;
                var sfname = j$('[id$=fname]').val();
                var slname = j$('[id$=lname]').val();
                var Email = j$('[id$=Email]').val();
                var Contattotele = j$('[id$=Contattotele]').val();
                
                //  var Strutturadiapp = j$('[id$=Strutturadiapp]').val();
                
                if(sfname.length == 0){
                    j$('[id$=fname]').next('div.red').remove();
                    j$('[id$=fname]').after('<div class="red">Campo obbligatorio</div>');
                    invalidflg = true;
                }else{
                    j$('[id$=fname]').next('div.red').remove();
                }
                
                if(slname.length == 0){
                    j$('[id$=lname]').next('div.red').remove();
                    j$('[id$=lname]').after('<div class="red">Campo obbligatorio</div>');
                    invalidflg = true;
                }else{
                    j$('[id$=lname]').next('div.red').remove();
                }
                
                if(Email.length == 0){
                    j$('[id$=Email]').next('div.red').remove();
                    j$('[id$=Email]').after('<div class="red">Campo obbligatorio</div>');
                    invalidflg = true;
                }else{
                    j$('[id$=Email]').next('div.red').remove();
                }
                
                if(Contattotele.length == 0){
                    j$('[id$=Contattotele]').next('div.red').remove();
                    j$('[id$=Contattotele]').after('<div class="red">Campo obbligatorio</div>');
                    invalidflg = true;
                }else{
                    j$('[id$=Contattotele]').next('div.red').remove();
                }
                
               
                var v = grecaptcha.getResponse();
                if(v.length == 0) {
                    j$('[id$=captcha]').next('div.red').remove();
                    j$('[id$=captcha]').after('<div class="red">You cant leave Captcha Code empty</div>');
                    invalidflg = true;
                }
                else {
                    j$('[id$=captcha]').next('div.red').remove();                   
                }
              
               
                if(invalidflg){
                    return false;
                }
                
               window.alert('La richiesta è stata inoltrata e sarà gestita nel più breve tempo possibile.');
                // onSuccess();
                saveMyDetails();
            }
            
            /*hide the ERROR element in the apex page message*/
            /* j$(document).ready(function(){
                j$("h4").text('Per favore correggi i seguenti errori');
            });*/
            
            
            </script>
            
            
            
            
        </body>
    </html>
</apex:page>