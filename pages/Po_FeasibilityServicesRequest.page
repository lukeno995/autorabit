<apex:page standardController="Case" extensions="PO_RegistrationController" docType="html-5.0" applyhtmltag="false" showheader="false" sidebar="false" standardstylesheets="false" id="page">
    <html lang="en">
        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>        
            <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
            <meta name="viewport" content="width=device-width, initial-scale=1"/>
            <title>open fiber</title>  
            <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" /> 
            <!-- Bootstrap Core CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/bootstrap/css/bootstrap.min.css')}"/>
            
            <!-- MetisMenu CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/metisMenu/metisMenu.min.css')}"/>
            
            <!-- Custom CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/dist/css/sbadmin2.css')}"/>
            
            <!-- Morris Charts CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/morrisjs/morris.css')}"/>
            
            <!-- Custom Fonts -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/fontawesome/css/fontawesome.min.css')}"/>
            
            <style>
                .navbar {
                min-height: 105px;
                }
                .navbar-header {
                float: none;
                }
                .navbar-default {
                background-color: #ffffff;
                }
                .panel-default>.panel-heading {
                color: #ffffff;
                background-color: #337ab7;
                }
                span.dateFormat{
                
                display:none;
                
                }
                .red{color:red;}
                .form-check-input{ 
                margin-left: 45px !important;
                margin-top: 10px;
                }
                
            </style>
        </head>
        <body>
            
            <div id="wrapper">
                <!-- Navigation -->
                <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
                    <c:PO_SideBarComponent Rec="{!recordOfferta}" />
                    
                    <div class="navbar-default sidebar" role="navigation">
                        <div class="sidebar-nav navbar-collapse">
                            <ul class="nav" id="side-menu">
                            </ul>
                        </div>
                        <!-- /.sidebar-collapse -->
                    </div>
                    <!-- /.navbar-static-side -->
                </nav>
                
                <div id="page-wrapper">
                    <div class="row">
                        <div>
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <i></i>Richieste Inserite
                                </div>
                                <div class="panel-body">
                                    <div class="row">
                                        
                                        <div style="color:red;" id="showerror">
                                            <apex:pageMessages id="errors" /> 
                                        </div>
                                        
                                        
                                        <apex:form styleClass="form-horizontal" id="myform">  
                                            <br/><br/><br/>
                                            <div class="form-group">
                                                
                                               <div class="col-lg-6 col-offset-6">
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    <!--14/06/2017 Modified by Rajani--<apex:commandButton styleClass="btn btn-primary" value="Fine" action="{!Home}"/> 
                                                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    <apex:commandButton styleClass="btn btn-primary" value="Creare nuova richiesta" action="{!ParentCaseRecord}"/> ---->
                                                </div>
                                            </div>
                                            <!--<table id="theTable" class="table table-striped table-bordered" width="100%">
                                                <thead>
                                                    <tr>
                                                        <th>Collegamento</th>
                                                        <th>Offerta</th>
                                                        <th>Data di Creazione</th>
                                                        <th>Status</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <apex:repeat value="{!sortingCases}" var="case" id="section">
                                                        <tr>
                                                            
                                                            <td>
                                                                <apex:commandlink value="{!case.casenumber}" action="{!displayChildCases}" id="link" >
                                                                    <apex:param value="{!case.id}" name="SelParent"  assignTo="{!SelParent}" ></apex:param>
                                                                 </apex:commandlink>
                                                                <!--<apex:outputLink value="/apex/Po_FeasibilityServicesRequest2?parentid={!case.id}"  id="link">
                                                                    {!case.casenumber}
                                                                </apex:outputLink>-->
                                                           <!--</td>
                                                            <td>
                                                                
                                                                <apex:facet name="header">
                                                                    <apex:commandLink value="Offerta" reRender="myTable">
                                                                        <apex:param name="sortField" value="Offerta" assignTo="{!sortField}" />
                                                                        <apex:param name="myOrder" value="{!IF(myOrder == 'DESC', 'ASC','DESC')}" assignTo="{!myOrder}" />
                                                                        Last Name
                                                                    </apex:commandLink>
                                                                </apex:facet>
                                                                <apex:outputText value="{!case.PO_Offerta__c}"/>
                                                            </td>
                                                            <td>
                                                                <apex:outputText value="{!case.CreatedDate}"/>
                                                            </td>
                                                            <td>
                                                                <apex:outputText value="{!case.Status}"/>
                                                            </td>
                                                            
                                                        </tr>
                                                    </apex:repeat>
                                                    
                                                    
                                                </tbody>
                                            </table>-->
                                            <apex:pageBlock >
                                                <apex:pageBlockTable value="{!sortingCases}" var="case" id="myTable" styleClass="table table-striped table-bordered">
                                                    <apex:column >
                                                        <apex:facet name="header">
                                                            <apex:commandlink value="Richiesta" rerender="myTable" >
                                                                <apex:param name="sortField" value="casenumber" assignTo="{!sortField}" />
                                                                <apex:param name="myOrder" value="{!IF(myOrder == 'DESC', 'ASC','DESC')}" assignTo="{!myOrder}" />
                                                                
                                                            </apex:commandLink>
                                                        </apex:facet>
                                                        <apex:commandlink value="{!case.casenumber}" action="{!displayChildCases}" id="link" >
                                                            <apex:param value="{!case.id}" name="SelParent"  assignTo="{!SelParent}" />
                                                        </apex:commandlink>
                                                    </apex:column>&nbsp;&nbsp;&nbsp;&nbsp;
                                                    <apex:column >
                                                        <apex:facet name="header">
                                                            <apex:commandLink value="Offerta" reRender="myTable">
                                                                <apex:param name="sortField" value="PO_Offerta__c" assignTo="{!sortField}" />
                                                                <apex:param name="myOrder" value="{!IF(myOrder == 'DESC', 'ASC','DESC')}" assignTo="{!myOrder}" />
                                                                
                                                            </apex:commandLink>
                                                        </apex:facet>
                                                        <apex:outputField value="{!case.PO_Offerta__c}" />
                                                    </apex:column>&nbsp;&nbsp;
                                                                   <apex:column >
                                                        <apex:facet name="header">
                                                            <apex:commandLink value="Nome Progetto" reRender="myTable">
                                                                <apex:param name="sortField" value="PO_Nome_Progetto__c" assignTo="{!sortField}" />
                                                                <apex:param name="myOrder" value="{!IF(myOrder == 'DESC', 'ASC','DESC')}" assignTo="{!myOrder}" />
                                                                
                                                            </apex:commandLink>
                                                        </apex:facet>
                                                        <apex:outputField value="{!case.PO_Nome_Progetto__c}" />
                                                    </apex:column>&nbsp;&nbsp;
                                                    <apex:column >
                                                        <apex:facet name="header">
                                                            <apex:commandLink value="Data di Creazione" reRender="myTable">
                                                                <apex:param name="sortField" value="CreatedDate" assignTo="{!sortField}" />
                                                                <apex:param name="myOrder" value="{!IF(myOrder == 'DESC', 'ASC','DESC')}" assignTo="{!myOrder}" />
                                                               
                                                            </apex:commandLink>
                                                        </apex:facet>
                                                        <apex:outputField value="{!case.CreatedDate}" />
                                                    </apex:column>&nbsp;&nbsp;
                                                    <apex:column >
                                                        <apex:facet name="header">
                                                            <apex:commandLink value="Stato" reRender="myTable">
                                                                <apex:param name="sortField" value="status" assignTo="{!sortField}" />
                                                                <apex:param name="myOrder" value="{!IF(myOrder == 'DESC', 'ASC','DESC')}" assignTo="{!myOrder}" />
                                                                
                                                            </apex:commandLink>
                                                        </apex:facet>
                                                        <apex:outputField value="{!case.status}" />
                                                    </apex:column><br/>
                                                </apex:pageBlockTable>
                                            </apex:pageBlock>
                                        </apex:form>  
                                        
                                        
                                    </div>
                                </div>
                                <!-- /.panel-body -->
                            </div>       
                            <!-- /.col-lg-4 -->
                        </div>
                        <!-- /.row -->
                    </div>
                    <!-- /#page-wrapper -->
                    
                </div>
            </div>
            <!-- /#wrapper -->
            
            <apex:includeScript value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/jquery/jquery.min.js')}"/>
            
            <!-- Bootstrap Core JavaScript -->
            <apex:includeScript value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/bootstrap/js/bootstrap.min.js')}"/>
            <script src='https://www.google.com/recaptcha/api.js'></script>
            <script>
                function mySC()
            {
                window.alert('casenumber-->'str1);
                var str1 = document.getElementById('j_id0:myform:section:0:link').value;
                window.alert('casenumber-->'str1);
                document.getElementById('page:myform:SelParent').value=str1;
            }
            </script>
        </body>
    </html>
</apex:page>