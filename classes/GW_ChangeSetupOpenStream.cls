//Generated by wsdl2apex

public class GW_ChangeSetupOpenStream {
    public class ChangeSetupOpenStreamPortTypeEndpoint1 {
        //public String endpoint_x = 'http://localhost:6410/ServiziAttivi/GW_ChangeSetupOpenStream';

        List<OF_Puntamento_Callout__c> listCustomSett =  OF_Puntamento_Callout__c.getAll().values();
        String puntamento=listCustomSett[0].OF_OGW__c;
        public String endpoint_x = 'https://'+puntamento+'.ENEL.COM:44300/ServiziAttivi/GW_ChangeSetupOpenStream';
      
        public Map<String,String> inputHttpHeaders_x;
        public Map<String,String> outputHttpHeaders_x;
        public String clientCertName_x;
        public String clientCert_x;
        public String clientCertPasswd_x;
        public Integer timeout_x;
        private String[] ns_map_type_info = new String[]{'http://xmlns.example.com/1524492211204', 'GW_ChangeSetupOpenStream', 'http://enel.it/schemas/class/ServiziAttivi/Esito', 'GW_ChangeSetupOpenStream_Response', 'http://www.tibco.com/schemas/OLO_Gateway/SharedResources/CommonSchema/ServiziAttivi/Om/ChangeSetupOpenStreamOM.xsd', 'GW_ChangeSetupOpenStream_Input'};
        public GW_ChangeSetupOpenStream_Response.Esito_element ChangeSetupOpenStream(GW_ChangeSetupOpenStream_Input.ChangeSetupOpenStreamOM_element wsInput) {
           GW_ChangeSetupOpenStream_Response.Esito_element response_x;
            try{
                GW_ChangeSetupOpenStream_Input.ChangeSetupOpenStreamOM_element request_x = new GW_ChangeSetupOpenStream_Input.ChangeSetupOpenStreamOM_element();
                request_x.TIPO_COMUNICAZIONE = wsInput.TIPO_COMUNICAZIONE;
                request_x.CODICE_OPERATORE = wsInput.CODICE_OPERATORE;
                request_x.CODICE_ORDINE_OLO = wsInput.CODICE_ORDINE_OLO;
                request_x.CODICE_ORDINE_OF = wsInput.CODICE_ORDINE_OF;
                request_x.DATA_NOTIFICA = wsInput.DATA_NOTIFICA;
                request_x.ID_NOTIFICA = wsInput.ID_NOTIFICA;
                request_x.ID_RISORSA = wsInput.ID_RISORSA;
                request_x.CODICE_PROGETTO_SPECIALE = wsInput.CODICE_PROGETTO_SPECIALE;
                request_x.PROMOZIONE = wsInput.PROMOZIONE;
                request_x.CLUSTER_PROMOZIONE = wsInput.CLUSTER_PROMOZIONE;
                request_x.NOTE = wsInput.NOTE;
                request_x.ID_SERVIZIO = wsInput.ID_SERVIZIO;
                request_x.PROFILO = wsInput.PROFILO;
                request_x.VLAN = wsInput.VLAN;
                
                Map<String, GW_ChangeSetupOpenStream_Response.Esito_element> response_map_x = new Map<String, GW_ChangeSetupOpenStream_Response.Esito_element>();
                response_map_x.put('response_x', response_x);
                WebServiceCallout.invoke(
                this,
                request_x,
                response_map_x,
                new String[]{endpoint_x,
                '/SharedResources/InternalWSDL/GW_ChangeSetupOpenStream-service1.serviceagent/ChangeSetupOpenStreamPortTypeEndpoint1/ChangeSetupOpenStream',
                'http://www.tibco.com/schemas/OLO_Gateway/SharedResources/CommonSchema/ServiziAttivi/Om/ChangeSetupOpenStreamOM.xsd',
                'ChangeSetupOpenStreamOM',
                'http://enel.it/schemas/class/ServiziAttivi/Esito',
                'Esito',
                'GW_ChangeSetupOpenStream_Response.Esito_element'}
                );
                response_x = response_map_x.get('response_x');
                System.debug('***** RISPOSTA DA OM PER CO ' + response_x);
            }catch(Exception e){
                System.debug('***** MESSAGGIO DI ERRORE ' + e.getMessage());
                System.debug('***** RISPOSTA DA OM TRY CATCH! PER CO ' + response_x);
                response_x = new GW_ChangeSetupOpenStream_Response.Esito_element();
                /*response_x.ESITO = '1';
                response_x.CODICE_MOTIVAZIONE = 'A00';
                response_x.MOTIVAZIONE = 'Errore durante la chiamata a OM';
                response_x.ID_NOTIFICA = wsInput.ID_NOTIFICA;*/
                response_x.ESITO = '1';
                response_x.CODICE_MOTIVAZIONE = 'A00';
                response_x.MOTIVAZIONE = 'Yes. TryCatch. '+ e.getMessage();
            }
            return response_x;
        }
    }
}