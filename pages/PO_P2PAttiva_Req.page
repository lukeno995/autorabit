<apex:page id="pageID" Controller="PO_P2PAtt_RegistrationCntrl" docType="html-5.0" applyhtmltag="false" showheader="false" sidebar="false" standardstylesheets="false">
    <html lang="en"> 
        <head> 
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>        
            <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
            <meta name="viewport" content="width=device-width, initial-scale=1"/> 
            <title>Open Fiber</title>  
            
            <!-- Bootstrap Core CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/bootstrap/css/bootstrap.min.css')}"/>
            
            <!-- MetisMenu CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/metisMenu/metisMenu.min.css')}"/>
            
            <!-- Custom CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/dist/css/sbadmin2.css')}"/>
            
            <!-- Morris Charts CSS -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/morrisjs/morris.css')}"/>
            
            <!-- Custom Fonts -->
            <apex:stylesheet value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/fontawesome/css/fontawesome.min.css')}"/>
            
            <script src="//code.jquery.com/jquery-1.10.2.js"></script>
            <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>            
            <link rel = "stylesheet"  type = "text/css"  href = "//code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
            
            <style>
                .navbar {
                min-height: 105px;
                }
                .navbar-header {
                float: none;
                }
                .navbar-default {
                background-color: #ffffff;
                }
                .panel-default>.panel-heading {
                color: #ffffff;
                background-color: #337ab7;
                }
                span.dateFormat{                
                display:none;                
                }
                .red{color:red;}
                .form-check-input{ 
                margin-left: 45px !important;
                margin-top: 10px;
                }
                
                .displayNone { 
                display:none; 
                }
                .displayBlock {
                display:block;
                }
                .ui-autocomplete-loading { 
                background: white url(/img/loading32.gif) right center no-repeat;
                background-size:15px 15px; 
                }
                .placeHolder {
                font-style: italic;
                }
                
            </style>
            
            
            <script type="text/javascript">
            var PLACEHOLDER = 'Digitare il comune poi selezionarlo dall\'elenco'; 
            var comuneObjects;
            var queryTerm;
            var comuneCheckList;
            $(document).ready(function() {
                $('[id$=comuneId]').autocomplete({
                    minLength: 2,
                    source: function(request, response) {
                        queryTerm = request.term;
                        PO_RegistrationController.searchComune(request.term, function(result, event){
                            if(event.type == 'exception') {
                                alert(event.message);
                            } else {
                                comuneObjects = result;                            
                                response(comuneObjects);
                                comuneCheckList= [];
                                comuneObjects.forEach(function(element) {
                                    comuneCheckList.push(element.OF_Comune__c+' '+element.OF_Regione__c);
                                });
                            }
                        });
                    },
                    focus: function( event, ui ) {
                        //  $('[id$=comuneId]').val( ui.item.OF_Comune__c+' '+ui.item.OF_Regione__c );
                        return false;
                    },
                    select: function( event, ui ) {
                        $('[id$=comuneId]').val( ui.item.OF_Comune__c+' '+ui.item.OF_Regione__c );
                        $('[id$=searchcommuneId]').val( ui.item.Id );
                        return false;
                    },
                })
                .data( "ui-autocomplete" )._renderItem = function( ul, item ) {
                    var entry = "<a>" + item.OF_Comune__c+' '+item.OF_Regione__c;
                    
                    entry = entry + "</a>";
                    entry = entry.replace(queryTerm, "<b>" + queryTerm + "</b>");
                    return $( "<li></li>" )
                    .data( "ui-autocomplete-item", item )
                    .append( entry )
                    .appendTo( ul );
                };
                
                // Add or remove placeholder values
                if('{!searchTerm}'!=''){
                	PLACEHOLDER ='{!searchTerm}';
                }
                $('[id$=comuneId]').val(PLACEHOLDER);
                $('[id$=comuneId]').on("focus",  function(event){
                    $tgt = $(event.target);
                    if($tgt.val() === PLACEHOLDER ){
                        $tgt.val('');
                        $tgt.removeClass('placeHolder');
                    }
                });
                $('[id$=comuneId]').on( "blur",  function(event){
                    $tgt = $(event.target);
                    if($tgt.val() === '' ){
                        $tgt.val(PLACEHOLDER);
                        $tgt.addClass('placeHolder');
                    }
                });
                
                
            });
            
            
            //Adding Valiate function here
            
            function validateform(){
                
                var invalidflg = false;
                var searchcommuneId=$('[id$=searchcommuneId]').val();
                var comuneId = $('[id$=comuneId]').val();
                var PrimeContractor = $('[id$=PrimeContractor]').val();
                var Tipopercorso = $('[id$=Tipopercorso]').val();
                var tipodicolle = $('[id$=tipodicolle]').val();
                var Numerofibrerichieste = $('[id$=Numerofibrerichieste]').val();
                var Notecollegamento = $('[id$=Notecollegamento]').val();
                
                var Sito = $('[id$=Sito]').val();
                var Indirizzocollegamento = $('[id$=Indirizzocollegamento]').val();
                var Civico = $('[id$=Civico]').val();
                var Notasito = $('[id$=Notasito]').val();
                var Sito1 = $('[id$=Sito1]').val();
                var Indirizzopartenza = $('[id$=Indirizzopartenza]').val();
                var Civico1 = $('[id$=Civico1]').val();
                var Notasito1 = $('[id$=Notasito1]').val();
                
                // 2018/08/20 MM :Adding validate function for field Profilo
                var Profilo = $('[id$=Profilo]').val();
                
                if(comuneId == "Digitare il comune poi selezionarlo dall'elenco"){
                    $('[id$=comuneId]').next('div.red').remove();
                    $('[id$=comuneId]').after('<div class="red">Campo obbligatorio</div>');
                    invalidflg = true;
                    
                    
                }else{
                    $('[id$=comuneId]').next('div.red').remove();
                }
                if(!invalidflg && comuneId!=PLACEHOLDER){
                    if(typeof comuneCheckList == 'undefined' || !comuneCheckList.includes(comuneId)){
                        $('[id$=comuneId]').next('div.red').remove();
                        $('[id$=comuneId]').after('<div class="red">Il comune va selezionato dall\'elenco</div>');
                        invalidflg = true;
                    }
                    else{
                        $('[id$=comuneId]').next('div.red').remove();
                    }
                }
                if(Tipopercorso.length == 0){
                    $('[id$=Tipopercorso]').next('div.red').remove();
                    $('[id$=Tipopercorso]').after('<div class="red">Campo obbligatorio</div>');
                    invalidflg = true;
                }else{
                    $('[id$=Tipopercorso]').next('div.red').remove();
                }
                
                if(PrimeContractor.length == 0){
                    $('[id$=PrimeContractor]').next('div.red').remove();
                    $('[id$=PrimeContractor]').after('<div class="red">Campo obbligatorio</div>');
                    invalidflg = true;
                }else{
                    $('[id$=PrimeContractor]').next('div.red').remove();
                }
                
                if(tipodicolle.length == 0){
                    $('[id$=tipodicolle]').next('div.red').remove();
                    $('[id$=tipodicolle]').after('<div class="red">Campo obbligatorio</div>');
                    invalidflg = true;
                }else{
                    $('[id$=tipodicolle]').next('div.red').remove();
                }
                
                if(Numerofibrerichieste.length == 0){
                    $('[id$=Numerofibrerichieste]').next('div.red').remove();
                    $('[id$=Numerofibrerichieste]').after('<div class="red">Campo obbligatorio</div>');
                    invalidflg = true;
                }else{
                    $('[id$=Numerofibrerichieste]').next('div.red').remove();
                    
                    
                    
                    
                }/*
                if(Profilo.length == 0){
                	$('[id$=Profilo]').next('div.red').remove();
                	$('[id$=Profilo]').after('<div class="red">Campo obbligatorio</div>');
                	invalidflg = true;
                }else{
                	$('[id$=Profilo]').next('div.red').remove();
                }*/
                if(Sito.length == 0){
                    $('[id$=Sito]').next('div.red').remove();
                    $('[id$=Sito]').after('<div class="red">Campo obbligatorio</div>');
                    invalidflg = true;
                }else{
                    $('[id$=Sito]').next('div.red').remove();
                }
                
                
                if(Indirizzocollegamento.length == 0){
                    $('[id$=Indirizzocollegamento]').next('div.red').remove();
                    $('[id$=Indirizzocollegamento]').after('<div class="red">Campo obbligatorio</div>');
                    invalidflg = true;
                }else{
                    $('[id$=Indirizzocollegamento]').next('div.red').remove();
                }
                
                
                if(Civico.length == 0){
                    $('[id$=Civico]').next('div.red').remove();
                    $('[id$=Civico]').after('<div class="red">Campo obbligatorio</div>');
                    invalidflg = true;
                }else{
                    $('[id$=Civico]').next('div.red').remove();
                }
                
                
                
                
                if(invalidflg){
                    return false;
                }
                
                SaveParentChildCaseInfomethod();
            }           
            
            //End Validate Function here
            </script>
        </head>
        <body>
            <div id="wrapper">
                <!-- Navigation -->
                <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
                    <!--<c:POHeaderComp />-->
                    <c:PO_SideBarComponent Rec="{!recordOfferta}" />
                    <div class="navbar-default sidebar" role="navigation">
                        <div class="sidebar-nav navbar-collapse">
                            <ul class="nav" id="side-menu"></ul>
                        </div>
                        <!-- /.sidebar-collapse -->
                    </div>
                    <!-- /.navbar-static-side -->
                </nav>
                
                <div id="page-wrapper">
                    <div class="row">
                        <div class="col-lg-8" style="width:73.666667%;">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <i></i>Collegamento
                                </div>
                                <div class="panel-body">
                                    <div class="row">
                                        <apex:actionRegion >
                                            <apex:form id="formID">
                                                
                                                <!-- 23/08/2018 MM : commentato messaggio di errore -->                                             
                                                <!-- 
<div style="color:red;" id="showerror">
<apex:pageMessages id="errors" /> 
</div>                                               
--> 
                                                <apex:outputPanel id="testform"></apex:outputPanel>
                                                
                                                <form role="form" class="form-horizontal" >
                                                    <apex:outputPanel >
                                                        <apex:actionRegion >                                                    
                                                            <div class="form-group">
                                                                <div class="col-lg-6"> 
                                                                    <label>Comune*</label>
                                                                    <span class="glyphicon glyphicon-search"></span> 
                                                                    <apex:inputText id="comuneId" value="{!searchTerm}" styleClass="form-control" onkeypress="return noenter(event);" rendered="{!selectedIdComune == null || selectedIdComune == ''}"/>
                                                                    <apex:inputHidden id="searchcommuneId" value="{!selectedIdComune}" />                                                   
                                                                    
                                                                </div>                                                       
                                                            </div> 
                                                        </apex:actionRegion>
                                                        
                                                        <div class="form-group">
                                                            <div class="col-lg-6">
                                                                
                                                            </div>
                                                            <div class="col-lg-6">
                                                                
                                                                <label>Tipo di collegamento*</label> 
                                                                <apex:selectList id="tipodicolle" label="Tipo di collegamento*" value="{!optScelta}" size="1" required="true" styleClass="form-control" onkeypress="return noenter(event);">
                                                                    <apex:selectOptions Value="{!opt}" />
                                                                </apex:selectList>	    
                                                                <!-- <apex:inputField id="tipodicolle" styleClass="form-control" onkeypress="return noenter(event);" value="{!childLog.PO_Tipo_di_collegamento__c}"/>	-->
                                                            </div>
                                                        </div>
                                                        
                                                        <div class="form-group">
                                                            <div class="col-lg-6">
                                                                <label>Prime Contractor*</label>
                                                                <apex:inputField id="PrimeContractor" styleClass="form-control" onkeypress="return noenter(event);" value="{!ChildLog.PO_Prime_Contractor__c}"/>
                                                            </div>
                                                            <div class="col-lg-6">                                                                
                                                                <label>Tipo percorso*</label>
                                                                <apex:inputField id="Tipopercorso" styleClass="form-control" onkeypress="return noenter(event);" value="{!ChildLog.PO_Tipo_percorso__c}"/>           
                                                            </div>
                                                        </div>
                                                        
                                                        <div class="form-group">
                                                            <div class="col-lg-6">
                                                                <!-- <label>Note Richiesta</label>
<apex:inputField id="Notecollegamento" styleClass="form-control" value="{!ChildCase.PO_Note_collegamento__c}"/>-->
                                                            </div> 
                                                            <div class="col-lg-6">                                                                
                                                                <label>Numero fibre richieste*</label>
                                                                <apex:inputField id="Numerofibrerichieste" styleClass="form-control" onkeypress="return noenter(event);" value="{!ChildLog.PO_Numero_fibre_richieste__c}"/>
                                                            </div>
                                                            <!-- EC start insert profilo verify as openStream 2018 - 07 -13 --> 
                                                            <div class="col-lg-6">
                                                                
                                                            </div> 
                                                            <div class="col-lg-4">
                                                                <label>Profilo* :  </label> &nbsp; &nbsp;
                                                                <apex:inputField id="Profilo" styleClass="form-control" value="{!childLog.EOF_PROFILO__c}" required="true"/>
                                                                <apex:outputpanel id="hiddenPanel">
                                                                    <apex:inputhidden id="check" value="{!verifyProfilo}" />
                                                                </apex:outputpanel>
                                                                <apex:outputpanel id="errProfilo">
                                                                    <apex:outputText id="errProfilo2" value="ATTENZIONE!! Il profilo inserito non è ammesso." rendered="{!viewError}" style="color:red;" />
                                                                </apex:outputpanel>
                                                            </div>
                                                            
                                                            <div class="col-lg-2 text-center">	                                     
                                                                <button type="button" Class="btn btn-primary" style=" margin-top: 24px;" onclick="doSearchProfilo()">Verifica profilo</button>
                                                                
                                                            </div> 
                                                            
                                                            <apex:outputPanel id="results">
                                                                <div class="col-lg-6" style="margin-top: 24px;">
                                                                    <!-- <label>Profilo commerciale : </label> &nbsp; &nbsp; -->
                                                                    <apex:outputText rendered="{!viewProfilo}" value="Profilo commerciale: " style="font-weight: bold"/>
                                                                    <apex:outputText rendered="{!viewProfilo}" id="ProfiloCommerciale" styleClass="" value="{!profiloCommerciale}"  style="" />
                                                                </div>
                                                                
                                                            </apex:outputPanel>
                                                            
                                                            <apex:actionRegion >
                                                                <apex:actionFunction name="searchProfilo" action="{!runSearchProfilo}" rerender="errProfilo,hiddenPanel" oncomplete="refreshRerender()">
                                                                    <apex:param name="TextProfilo" value="" />
                                                                </apex:actionFunction>  	        
                                                                <apex:actionFunction name="rerenderResults" rerender="results" /> 
                                                            </apex:actionRegion>  
                                                            
                                                            <div class="col-lg-6">
                                                                
                                                            </div> 						                                   
                                                            <!-- EC end insert profilo verify as openStream 2018 - 07 -13 -->            
                                                        </div>
                                                        
                                                        
                                                        
                                                    </apex:outputPanel>
                                                    <!--Added "Informazioni sito" Section by Rajani-->
                                                    
                                                    <div class="form-group">
                                                        
                                                        <div class="col-lg-6">
                                                            
                                                            
                                                            <h4 style="Margin-left:15px;"> <u>Informazioni sito Destinazione* </u> </h4>
                                                            <div class="form-group">
                                                                <label class="control-label col-sm-1" for="Sito" style="width:150px;">Sito*</label>
                                                                <apex:inputField id="Sito" styleClass="form-control" onkeypress="return noenter(event);" value="{!ChildLog.PO_Sito__c}" style="width:300px;"/>
                                                            </div>
                                                            <div class="form-group" >
                                                                <label class="control-label col-sm-1" for="Indirizzo collegamento" style="width:150px;">Indirizzo*</label>
                                                                <apex:inputField id="Indirizzocollegamento" styleClass="form-control" onkeypress="return noenter(event);" value="{!ChildLog.PO_Indirizzo_collegamento__c}" style="width:300px;" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label class="control-label col-sm-1" for="Civico" style="width:150px;">Civico*</label>
                                                                <apex:inputField id="Civico" styleClass="form-control" onkeypress="return noenter(event);" value="{!ChildLog.PO_Civico__c}" style="width:300px;" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label class="control-label col-sm-1" for="Nota sito" style="width:150px;">Nota sito</label>
                                                                <apex:inputField id="Notasito" styleClass="form-control" onkeypress="return noenter(event);" value="{!ChildLog.PO_Nota_sito__c}" style="width:300px;" />
                                                            </div>
                                                            <!--</apex:outputPanel>-->
                                                        </div>
                                                        <!-- END -->
                                                        
                                                        
                                                    </div> 
                                                    <!--END -->
                                                    <!-- 
<div class="form-group">
<apex:outputPanel rendered="{!IF(listvalueOfTextBox.size > 0 , true , false)}" id="AddSec">
<table id="theTable" class="table table-striped table-bordered" width="100%">
<thead>
<tr>
<th>Nome sito</th>
<th>Indirizzo sito</th>

</tr>
</thead>
<tbody>
<apex:repeat value="{!listvalueOfTextBox}" var="item" rendered="{!IF(listvalueOfTextBox.size > 0 , true , false)}" >
<tr>
<td>
<apex:inputText value="{!item.ContactNameValue}"/>
</td>
<td>
<apex:inputTextarea value="{!item.ContactNameValue1}"/>
</td>
</tr>
</apex:repeat>
</tbody>
</table>
</apex:outputPanel>
</div>
-->
                                                    <br/><br/><br/>
                                                    <!-- AA 27/08/2018-->
                                                    <!--
<apex:repeat value="{!uploadedFileNames}" var="item" rendered="{!IF(uploadedFileNames.size > 0 , true , false)}" >
-->
                                                    <div class="form-group">
                                                        <div class="col-lg-8">
                                                            <apex:outputPanel rendered="{!IF(uploadedFileNames.size > 0 , true , false)}" >
                                                                <b><p style='color:green;'>File caricati: </p></b>
                                                                <ul>
                                                                    <apex:repeat value="{!uploadedFileNames}" var="item" rendered="{!IF(uploadedFileNames.size > 0 , true , false)}" >
                                                                        <li>{!item}</li>
                                                                    </apex:repeat>
                                                                </ul>
                                                                <br/><br/>
                                                            </apex:outputPanel>
                                                        </div>
                                                    </div>
                                                    <br/><br/><br/>
                                                    <!-- FINE AA 27/08/2018-->
                                                    <div class="form-group">
                                                        <div class="col-lg-8">
                                                            <apex:outputPanel >
                                                                
                                                                <apex:commandLink id="SaveBttn" styleClass="btn btn-primary" style="margin-right:5px;" value="Salva" onclick="validateform(); return false;" />
                                                                <apex:actionFunction action="{!SaveParentChildLogInfo}" name="SaveParentChildCaseInfomethod" />
                                                                <!--AA 27/08 <apex:commandButton styleClass="btn btn-primary" style="margin-right:5px;" value="Annulla" action="{!deleteChildAlone}" html-formnovalidate="true" /> -->
                                                                <button html-formnovalidate="true" class="btn btn-primary" style="margin-right:5px;" onclick='annullaFunction()' >Annulla</button>
                                                                <apex:commandButton styleClass="btn btn-primary"  action="{!SaveParentChildLogInfoAndRedirect}" value="Aggiungi VLAN"/> 
                                                                <!--   rendered="{!vLanNoMax}" -->
                                                            </apex:outputPanel>
                                                        </div>
                                                        
                                                        <div class="col-lg-4">
                                                            
                                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">File allegati</button>
                                                            
                                                        </div>
                                                        <div class="modal fade" id="myModal" role="dialog">
                                                            <div class="modal-dialog">
                                                                <apex:actionRegion >  
                                                                    <!-- Modal content-->
                                                                    <div class="modal-content">
                                                                        <div class="modal-header">
                                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                                            <h4 class="modal-title">Upload Allegato</h4>
                                                                        </div>
                                                                        <div class="modal-body">
                                                                            <apex:inputFile style="width:100%" id="fileToUpload" value="{!fileBody}" filename="{!fileName}" />
                                                                            
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            
                                                                            <apex:commandbutton value="Upload Allegato"  action="{!upload}" styleClass="btn btn-primary" />
                                                                        </div>
                                                                    </div>
                                                                </apex:actionRegion>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </form>
                                            </apex:form>
                                        </apex:actionRegion>
                                        <!--AA 27/08/2018-->
                                        <apex:form >
                                            <apex:actionFunction action="{!deleteChildAlone}" name="annullaRequest" />
                                        </apex:form>
                                        <!-- FINE AA 27/08/2018 -->                                        
                                        <br/>
                                        <br/>
                                        <br/>
                                        <br/> <br/>
                                       
                                    </div>
                                    <!-- /.row (nested) -->
                                </div>
                                <!-- /.panel-body -->
                            </div>
                             <!-- EC 2018 - 09 - 18 Start VLAN Related List (copiata da PO_P2PAttiva_EditLogInfo -->
                                        <div class="form-group">
                                            <div class="col-lg-6">
                                                       
                                                <apex:form id="Vlan">
                                                    <apex:outputPanel id="vlanPanel">           
                                                        <apex:repeat value="{!listNephewVLAN}" var="slV" rendered="{!showVLAN}">
                                                            <div class="panel panel-default" style="margin-top:5px;">
                                                                <div class="panel-heading">
                                                                    <i></i>VLAN:
                                                                </div>
                                                                <div class="panel-body">
                                                                    <fieldset class="form-group">   
                                                                        <div class="form-group">
                                                                            <div class="col-lg-6">
                                                                                <label>Kit Consegna VLAN :   </label> &nbsp; &nbsp;
                                                                                <apex:outputText id="kitCons" >{!slV.OF_SA_KIT_CONSEGNA_VLAN__c}</apex:outputText>															            
                                                                            </div>
                                                                            <div class="col-lg-6">
                                                                                <label>User VLAN :  </label> &nbsp; &nbsp;
                                                                                <apex:outputText id="userVLAN" >{!slV.OF_SA_USER_VLAN__c}</apex:outputText>									
                                                                            </div>
                                                                            <div class="col-lg-6">
                                                                                <label>Service VLAN : </label> &nbsp; &nbsp;
                                                                                <apex:outputText id="serviceVLAN" >{!slV.OF_SA_SERVICE_VLAN__c}</apex:outputText>				                             	
                                                                            </div>
                                                                            <div class="col-lg-6">
                                                                                <label>Profilo VLAN : </label> &nbsp; &nbsp;
                                                                                <apex:outputText id="serVLAN" >{!slV.OF_SA_PROFILO_VLAN__c}</apex:outputText>				                                 
                                                                            </div>
                                                                            <div class="col-lg-6">
                                                                                <label>Customer VLAN :</label> &nbsp; &nbsp;
                                                                                <apex:outputText id="custVLAN" >{!slV.OF_SA_CUSTOMER_VLAN__c} </apex:outputText>								
                                                                            </div>                                                                                                                                                                                                   
                                                                            <div class="col-lg-6">
                                                                                <label>Modello Di Servizio VLAN : </label> &nbsp; &nbsp;
                                                                                <apex:outputText id="modelloVLAN" >{!slV.OF_SA_MODELLO_DI_SERVIZIO_VLAN__c} </apex:outputText>												 
                                                                            </div>
                                                                            <div class="col-lg-6"> 
                                                                                <label> Informazioni VLAN :</label> &nbsp; &nbsp;
                                                                                <apex:outputText id="infoVLAN" >{!slV.OF_SA_INFORMAZIONI_VLAN__c} </apex:outputText>												
                                                                            </div>
                                                                        </div>
                                                                    </fieldset>
                                                                    <!-- Elimina vlan -->
                                                                    <div class="col-lg-6">
                                                                        <div class="btn-group" role="group" aria-label="Basic example">
                                                                            <button id="cessazioneVlan" class='btn btn-primary to-disable btn-cess' style="margin-right:10px; margin-top:10px;"  name='{!slV.id}' >Elimina VLAN</button>   
                                                                        </div>
                                                                    </div>
                                                                    <!-- Modifica vlan -->
                                                                    <div class="col-lg-6"> 
                                                                        <div class="btn-group" role="group" aria-label="Basic example">                                       
                                                                            <button class='btn btn-primary to-disable' style="margin-right:10px; margin-top:10px;"  id='{!slV.id}' onclick="modVLAN(this.id)">Modifica VLAN</button>
                                                                        </div>
                                                                    </div>                         
                                                                </div>
                                                            </div>							
                                                        </apex:repeat> 
                                                    </apex:outputPanel>
                                                </apex:form>  
                                                <apex:form > 
					                                <apex:actionFunction name="modifyVLAN" reRender="tabResult" action="{!modificaVLAN}" >
					                                    <apex:param assignTo="{!idVLAN}" name="idVLAN" value="" /> 
					                                </apex:actionFunction> 
					                            </apex:form> 
					                            <apex:form > 
					                                <apex:actionFunction name="deleteVLAN" reRender="tabResult" action="{!cessaVLAN}" >
					                                    <apex:param assignTo="{!idVLAN}" name="idVLAN" value="" /> 
					                                </apex:actionFunction> 
					                            </apex:form>                                      
                                            </div>
                                        </div>
                                        
                                        <!--EC 2018 - 09 - 18 End Vlan Related List (copiata da PO_P2PAttiva_EditLogInfo -->
                            
                            <div class="col-lg-4">
                                
                            </div>
                            <!-- /.col-lg-4 -->
                        </div>
                        <!-- /.row -->
                    </div>
                    <!-- /#page-wrapper -->
                    
                </div>
            </div>
            <!-- /#wrapper -->
            
            <apex:includeScript value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/jquery/jquery.min.js')}"/>
            
            <!-- Bootstrap Core JavaScript -->
            <apex:includeScript value="{!URLFOR($Resource.ENELfiles, 'ENELfiles/EnelStylesheets/files/vendor/bootstrap/js/bootstrap.min.js')}"/>
            <script src='https://www.google.com/recaptcha/api.js'></script>
            <!-- AA 27/08/2018 -->
                <script>
                function annullaFunction(){
                annullaRequest();
            }
            //Modifica VLAN
        function modVLAN(idVLAN) {
            modifyVLAN(idVLAN);
        }
        //Cessa VLAN
        $(document).ready(function() {
            $( ".btn-cess" ).click(function( event ) {
                event.preventDefault();
                debugger;
                var name = this.getAttribute('name');
                deleteVLAN(name);  
            });   
	    });
            </script>
            <!-- FINE AA 27/08/2018 --> 
            
            <script>
            
            function doSearchProfilo() {
                var TextProfilo = $("input[id$='Profilo']").val();
                searchProfilo(TextProfilo);             
            }
            
            function refreshRerender() {
                rerenderResults();
            }
            
            </script>
            <script type='text/javascript'>
            function noenter(e){  
                //alert('Test ');             
                if(window.event){  
                    key = window.event.keyCode;              
                } 
                else{                    
                    key = e.which;               
                }               
                if(key == 13) {   
                    var ele=document.getElementById('{!$Component.pageID:formID:SaveBttn}');                                           
                    ele.click();                     
                    return false;               
                } else{                    
                    return true;               
                }          
            }     
            </script> 
        </body>
    </html>
</apex:page>