<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <actionOverrides>
        <actionName>AddPricebookEntryOnPricebook</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>AddPricebookEntryOnProduct</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>AddStandardPrice</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <enableFeeds>false</enableFeeds>
    <fields>
        <fullName>AssetId__c</fullName>
        <externalId>false</externalId>
        <label>AssetId</label>
        <length>20</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>IsActive</fullName>
        <trackHistory>false</trackHistory>
    </fields>
    <fields>
        <fullName>OF_Asset__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Asset</label>
        <referenceTo>Asset</referenceTo>
        <relationshipLabel>Billing Elements</relationshipLabel>
        <relationshipName>Price_Book_Entries</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>OF_CO_Change_Order__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>Change Order</label>
        <trackHistory>false</trackHistory>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>OF_ChangePrice__c</fullName>
        <externalId>false</externalId>
        <formula>IF( OF_Asset__r.RecordType.Name = &apos;Intervento a vuoto&apos; || OF_Asset__r.RecordType.Name = &apos;Verticale&apos; || 
    OF_Asset__r.RecordType.Name = &apos;P2P&apos; || OF_Asset__r.RecordType.Name = &apos;Fiber Lease&apos; || 
    OF_Asset__r.RecordType.Name = &apos;Fiber Link&apos;,
       HYPERLINK(&apos;/apex/OF_EditPrice?id=&apos; +  Id +&apos;&amp;idAsset=&apos;+  OF_Asset__r.Id,&apos;Modifica&apos;, &apos;_self&apos;),
       &apos;NA&apos;)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Change Price</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OF_ClusterPromozione__c</fullName>
        <externalId>false</externalId>
        <formula>OF_Asset__r.OF_ClusterPromozione__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Cluster Promozione</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OF_CodiceProgettoSpeciale__c</fullName>
        <externalId>false</externalId>
        <formula>IF( Product2.OF_Servizio__c = &apos;Open Stream&apos;, OF_Asset__r.OF_ProgettoSpeciale__c, &apos;&apos;)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Progetto Speciale</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OF_CommercialElementIstanziato__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Commercial element istanziato</label>
        <lookupFilter>
            <active>true</active>
            <filterItems>
                <field>$Source.OF_Asset__c</field>
                <operation>equals</operation>
                <valueField>OF_CommercialElementIstanziato__c.OF_Asset__c</valueField>
            </filterItems>
            <isOptional>false</isOptional>
        </lookupFilter>
        <referenceTo>OF_CommercialElementIstanziato__c</referenceTo>
        <relationshipLabel>Price Book Entries</relationshipLabel>
        <relationshipName>Price_Book_Entries</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>OF_Comune__c</fullName>
        <externalId>false</externalId>
        <formula>OF_Asset__r.OF_Comune__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Comune</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OF_Contratto__c</fullName>
        <externalId>false</externalId>
        <formula>OF_Asset__r.OF_Contract__r.OF_IdContratto__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Contratto</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OF_DataAttivazione2__c</fullName>
        <externalId>false</externalId>
        <label>Data attivazione</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>OF_DataCessazione2__c</fullName>
        <externalId>false</externalId>
        <label>Data cessazione</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>OF_DataDiCessazione__c</fullName>
        <externalId>false</externalId>
        <label>Data cessazione OLD</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>OF_DataSospensione__c</fullName>
        <externalId>false</externalId>
        <label>Data Sospensione</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>OF_Data_Attivazione__c</fullName>
        <externalId>false</externalId>
        <formula>OF_Asset__r.OF_DataAttivazione__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Data attivazione OLD</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>OF_Data_Desospensione__c</fullName>
        <externalId>false</externalId>
        <label>Data Desospensione</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>OF_Descrizione__c</fullName>
        <externalId>false</externalId>
        <label>Descrizione</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>TextArea</type>
    </fields>
    <fields>
        <fullName>OF_GPON__c</fullName>
        <externalId>false</externalId>
        <formula>OF_Asset__r.OF_GPON_Attestazione__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>GPON</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OF_IDRisorsa__c</fullName>
        <externalId>false</externalId>
        <formula>OF_Asset__r.EOF_ID_Risorsa__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>ID Risorsa</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OF_Master__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>Master</label>
        <trackHistory>false</trackHistory>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>OF_Order__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Order</label>
        <referenceTo>Order</referenceTo>
        <relationshipLabel>Price Book Entries</relationshipLabel>
        <relationshipName>Price_Book_Entries</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>OF_Profilo__c</fullName>
        <externalId>false</externalId>
        <formula>OF_Asset__r.OF_ProfiloOpenStream__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Profilo</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OF_ProgettoSpeciale__c</fullName>
        <externalId>false</externalId>
        <formula>IF( Product2.OF_Servizio__c = &apos;GPON Passiva&apos;,  OF_Asset__r.OF_ProgettoSpeciale__c, &apos;&apos;)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Progetto Speciale</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OF_Promozione__c</fullName>
        <externalId>false</externalId>
        <formula>OF_Asset__r.OF_Promozione__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Promozione</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OF_TipologiaApparatoAtt__c</fullName>
        <externalId>false</externalId>
        <formula>IF( Product2.OF_Servizio__c = &apos;Open Stream&apos;, OF_CommercialElementIstanziato__r.OF_TipologiaApparato__c, &apos;&apos;)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Tipologia Apparato</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OF_TipologiaApparatoPass__c</fullName>
        <externalId>false</externalId>
        <formula>IF( Product2.OF_Servizio__c = &apos;GPON Passiva&apos;,  OF_CommercialElementIstanziato__r.OF_TipologiaApparato1__c ,&apos;&apos;)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Tipologia Apparato</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Pricebook2Id</fullName>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Product2Id</fullName>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ProductCode</fullName>
    </fields>
    <fields>
        <fullName>Quantity__c</fullName>
        <defaultValue>1</defaultValue>
        <externalId>false</externalId>
        <label>Quantity</label>
        <precision>14</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>StandardPrice</fullName>
    </fields>
    <fields>
        <fullName>UnitPrice</fullName>
        <trackHistory>false</trackHistory>
    </fields>
    <fields>
        <fullName>UseStandardPrice</fullName>
        <trackHistory>false</trackHistory>
    </fields>
    <fields>
        <fullName>isBonifica__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>isBonifica</label>
        <trackHistory>false</trackHistory>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>numCoppia__c</fullName>
        <externalId>false</externalId>
        <label>numCoppia</label>
        <precision>6</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>tipoApparato__c</fullName>
        <externalId>false</externalId>
        <label>tipoApparato</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <searchLayouts>
        <searchResultsAdditionalFields>PRODUCT.NAME</searchResultsAdditionalFields>
        <searchResultsAdditionalFields xsi:nil="true"/>
        <searchResultsAdditionalFields>PRODUCT.DEFAULT_PRICE</searchResultsAdditionalFields>
        <searchResultsAdditionalFields xsi:nil="true"/>
        <searchResultsAdditionalFields>PB_ENTRY.LAST_UPDATE</searchResultsAdditionalFields>
        <searchResultsAdditionalFields xsi:nil="true"/>
        <searchResultsAdditionalFields>PRICEBOOK.NAME</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>PRICEBOOK.ACTIVE</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>PRODUCT.ACTIVE</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>PRODUCT2.ACTIVE</searchResultsAdditionalFields>
    </searchLayouts>
    <validationRules>
        <fullName>isVerticaleUPD</fullName>
        <active>true</active>
        <errorConditionFormula>and ( 
 CONTAINS (&apos;Verticale&apos;, Product2.Name ),
$User.LastName!=&apos;Integration Verticali&apos;,
$User.Email !=&apos;francesco.casali1@enel.com&apos;,
$User.Email !=&apos;cinzia.orlando@enel.com&apos;,
$User.LastName!=&apos;Atos2&apos; 
)</errorConditionFormula>
        <errorMessage>Solo un processo verticale può modificare questo record</errorMessage>
    </validationRules>
</CustomObject>
