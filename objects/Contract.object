<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Activate</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>ChangeStatus</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Terminate</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <enableFeeds>false</enableFeeds>
    <fields>
        <fullName>AccountId</fullName>
        <trackHistory>true</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ActivatedById</fullName>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ActivatedDate</fullName>
        <trackHistory>false</trackHistory>
    </fields>
    <fields>
        <fullName>BillingAddress</fullName>
        <trackHistory>true</trackHistory>
    </fields>
    <fields>
        <fullName>BillingFrequency__c</fullName>
        <externalId>false</externalId>
        <label>Billing Frequency</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Monthly</fullName>
                    <default>true</default>
                    <label>Monthly</label>
                </value>
                <value>
                    <fullName>Quarterly</fullName>
                    <default>false</default>
                    <label>Quarterly</label>
                </value>
                <value>
                    <fullName>Half Yearly</fullName>
                    <default>false</default>
                    <label>Half Yearly</label>
                </value>
                <value>
                    <fullName>Yearly</fullName>
                    <default>false</default>
                    <label>Yearly</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>CompanySignedDate</fullName>
        <trackHistory>true</trackHistory>
    </fields>
    <fields>
        <fullName>CompanySignedId</fullName>
        <trackHistory>true</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ContractTerm</fullName>
        <trackHistory>true</trackHistory>
    </fields>
    <fields>
        <fullName>CustomerSignedDate</fullName>
        <trackHistory>true</trackHistory>
    </fields>
    <fields>
        <fullName>CustomerSignedId</fullName>
        <trackHistory>true</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>CustomerSignedTitle</fullName>
        <trackHistory>true</trackHistory>
    </fields>
    <fields>
        <fullName>Description</fullName>
        <trackHistory>true</trackHistory>
    </fields>
    <fields>
        <fullName>EndDate</fullName>
        <trackHistory>true</trackHistory>
    </fields>
    <fields>
        <fullName>NS_Rif__c</fullName>
        <externalId>false</externalId>
        <label>NS. Rif.</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Name</fullName>
        <trackHistory>true</trackHistory>
    </fields>
    <fields>
        <fullName>OF_BillingSyncronized__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>OF_BillingSyncronized</label>
        <trackHistory>false</trackHistory>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>OF_Contract_Code__c</fullName>
        <caseSensitive>false</caseSensitive>
        <externalId>false</externalId>
        <label>OF_Contract_Code</label>
        <length>20</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>true</unique>
    </fields>
    <fields>
        <fullName>OF_EsistenzaServizio__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>EsistenzaServizio</label>
        <trackHistory>false</trackHistory>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>OF_IdContratto__c</fullName>
        <externalId>false</externalId>
        <label>Id Contratto</label>
        <length>50</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OF_Rinnovabile__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>Rinnovabile</label>
        <trackHistory>false</trackHistory>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>OF_TermPayment__c</fullName>
        <externalId>false</externalId>
        <label>TermPayment</label>
        <precision>5</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OwnerExpirationNotice</fullName>
        <trackHistory>true</trackHistory>
    </fields>
    <fields>
        <fullName>OwnerId</fullName>
        <trackHistory>true</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Pricebook2Id</fullName>
        <trackHistory>true</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Servizio__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Servizio</label>
        <referenceTo>OF_Servizio__c</referenceTo>
        <relationshipLabel>Contracts</relationshipLabel>
        <relationshipName>Contracts</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ShippingAddress</fullName>
        <trackHistory>true</trackHistory>
    </fields>
    <fields>
        <fullName>SpecialTerms</fullName>
        <trackHistory>true</trackHistory>
    </fields>
    <fields>
        <fullName>StartDate</fullName>
        <trackHistory>true</trackHistory>
    </fields>
    <fields>
        <fullName>Status</fullName>
        <trackHistory>true</trackHistory>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>SuspendedDate__c</fullName>
        <externalId>false</externalId>
        <label>SuspendedDate</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>SyncBilling__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>SyncBilling</label>
        <trackHistory>false</trackHistory>
        <type>Checkbox</type>
    </fields>
    <listViews>
        <fullName>AllActivatedContracts</fullName>
        <columns>CONTRACT.CONTRACT_NUMBER</columns>
        <columns>SALES.ACCOUNT.NAME</columns>
        <columns>CONTRACT.START_DATE</columns>
        <columns>CONTRACT.END_DATE</columns>
        <columns>CONTRACT.STATUS</columns>
        <columns>CORE.USERS.ALIAS</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>CONTRACT.STATUS_CODE</field>
            <operation>equals</operation>
            <value>A</value>
        </filters>
        <label>All Activated Contracts</label>
        <language>en_US</language>
        <sharedTo>
            <role>BO_Analisi</role>
            <role>BO_Collaudo</role>
            <role>BO_OnField</role>
            <role>CQS_Responsabile_Lavori_Nord</role>
            <role>CQS_Responsabile_Lavori_Sud</role>
            <role>CQS_Responsabile_Territoriale_Centro</role>
            <role>CQS_Responsabile_Territoriale_Nord</role>
            <role>CQS_Responsabile_Territoriale_Sud</role>
            <role>Direzione</role>
            <role>OF_CQS_Responsabile_Lavori_Centro</role>
            <role>Operatore_BO</role>
            <role>Operatore_OM</role>
            <role>Operatore_Tecnico</role>
            <role>Responsabile_BO</role>
            <role>Responsabile_TTM</role>
            <role>Responsabile_Tecnico</role>
        </sharedTo>
    </listViews>
    <listViews>
        <fullName>AllContracts</fullName>
        <columns>CONTRACT.CONTRACT_NUMBER</columns>
        <columns>OF_IdContratto__c</columns>
        <columns>SALES.ACCOUNT.NAME</columns>
        <columns>CONTRACT.START_DATE</columns>
        <columns>CONTRACT.END_DATE</columns>
        <columns>CONTRACT.STATUS</columns>
        <columns>CORE.USERS.ALIAS</columns>
        <columns>CONTRACT.CREATED_DATE</columns>
        <filterScope>Everything</filterScope>
        <label>All Contracts</label>
        <language>en_US</language>
    </listViews>
    <listViews>
        <fullName>AllDraftContracts</fullName>
        <columns>CONTRACT.CONTRACT_NUMBER</columns>
        <columns>SALES.ACCOUNT.NAME</columns>
        <columns>CONTRACT.START_DATE</columns>
        <columns>CONTRACT.END_DATE</columns>
        <columns>CONTRACT.STATUS</columns>
        <columns>CORE.USERS.ALIAS</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>CONTRACT.STATUS_CODE</field>
            <operation>equals</operation>
            <value>D</value>
        </filters>
        <label>All Draft Contracts</label>
        <language>en_US</language>
        <sharedTo>
            <role>BO_Analisi</role>
            <role>BO_Collaudo</role>
            <role>BO_OnField</role>
            <role>CQS_Responsabile_Lavori_Nord</role>
            <role>CQS_Responsabile_Lavori_Sud</role>
            <role>CQS_Responsabile_Territoriale_Centro</role>
            <role>CQS_Responsabile_Territoriale_Nord</role>
            <role>CQS_Responsabile_Territoriale_Sud</role>
            <role>Direzione</role>
            <role>OF_CQS_Responsabile_Lavori_Centro</role>
            <role>Operatore_BO</role>
            <role>Operatore_OM</role>
            <role>Operatore_Tecnico</role>
            <role>Responsabile_BO</role>
            <role>Responsabile_TTM</role>
            <role>Responsabile_Tecnico</role>
        </sharedTo>
    </listViews>
    <listViews>
        <fullName>AllInApprovalContracts</fullName>
        <columns>CONTRACT.CONTRACT_NUMBER</columns>
        <columns>SALES.ACCOUNT.NAME</columns>
        <columns>CONTRACT.START_DATE</columns>
        <columns>CONTRACT.END_DATE</columns>
        <columns>CONTRACT.STATUS</columns>
        <columns>CORE.USERS.ALIAS</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>CONTRACT.STATUS_CODE</field>
            <operation>equals</operation>
            <value>P</value>
        </filters>
        <label>All In Approval Contracts</label>
        <language>en_US</language>
        <sharedTo>
            <role>Direzione</role>
        </sharedTo>
    </listViews>
    <listViews>
        <fullName>MyActivatedContracts</fullName>
        <columns>CONTRACT.CONTRACT_NUMBER</columns>
        <columns>SALES.ACCOUNT.NAME</columns>
        <columns>CONTRACT.START_DATE</columns>
        <columns>CONTRACT.END_DATE</columns>
        <columns>CONTRACT.STATUS</columns>
        <columns>CORE.USERS.ALIAS</columns>
        <filterScope>Mine</filterScope>
        <filters>
            <field>CONTRACT.STATUS_CODE</field>
            <operation>equals</operation>
            <value>A</value>
        </filters>
        <label>My Activated Contracts</label>
        <language>en_US</language>
        <sharedTo>
            <role>Direzione</role>
        </sharedTo>
    </listViews>
    <listViews>
        <fullName>MyDraftContracts</fullName>
        <columns>CONTRACT.CONTRACT_NUMBER</columns>
        <columns>SALES.ACCOUNT.NAME</columns>
        <columns>CONTRACT.START_DATE</columns>
        <columns>CONTRACT.END_DATE</columns>
        <columns>CONTRACT.STATUS</columns>
        <columns>CORE.USERS.ALIAS</columns>
        <filterScope>Mine</filterScope>
        <filters>
            <field>CONTRACT.STATUS_CODE</field>
            <operation>equals</operation>
            <value>D</value>
        </filters>
        <label>My Draft Contracts</label>
        <language>en_US</language>
        <sharedTo>
            <role>Direzione</role>
        </sharedTo>
    </listViews>
    <listViews>
        <fullName>MyInApprovalContracts</fullName>
        <columns>CONTRACT.CONTRACT_NUMBER</columns>
        <columns>SALES.ACCOUNT.NAME</columns>
        <columns>CONTRACT.START_DATE</columns>
        <columns>CONTRACT.END_DATE</columns>
        <columns>CONTRACT.STATUS</columns>
        <columns>CORE.USERS.ALIAS</columns>
        <filterScope>Mine</filterScope>
        <filters>
            <field>CONTRACT.STATUS_CODE</field>
            <operation>equals</operation>
            <value>P</value>
        </filters>
        <label>My In Approval Contracts</label>
        <language>en_US</language>
        <sharedTo>
            <role>Direzione</role>
        </sharedTo>
    </listViews>
    <recordTypeTrackHistory>true</recordTypeTrackHistory>
    <recordTypes>
        <fullName>Accordo_Quadro</fullName>
        <active>true</active>
        <label>Accordo Quadro</label>
        <picklistValues>
            <picklist>BillingFrequency__c</picklist>
            <values>
                <fullName>Half Yearly</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Monthly</fullName>
                <default>true</default>
            </values>
            <values>
                <fullName>Quarterly</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Yearly</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Status</picklist>
            <values>
                <fullName>Activated</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Attivo</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Cessato</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Draft</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>In Approval Process</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Non attivo</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Sospeso</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <searchLayouts>
        <customTabListAdditionalFields>CONTRACT.CONTRACT_NUMBER</customTabListAdditionalFields>
        <customTabListAdditionalFields>CONTRACT.NAME</customTabListAdditionalFields>
        <customTabListAdditionalFields>SALES.ACCOUNT.NAME</customTabListAdditionalFields>
        <customTabListAdditionalFields>CONTRACT.STATUS</customTabListAdditionalFields>
        <lookupDialogsAdditionalFields>CONTRACT.CONTRACT_NUMBER</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>CONTRACT.NAME</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>CORE.USERS.ALIAS</lookupDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>CONTRACT.CONTRACT_NUMBER</lookupPhoneDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>CONTRACT.NAME</lookupPhoneDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>CORE.USERS.ALIAS</lookupPhoneDialogsAdditionalFields>
        <searchResultsAdditionalFields>CONTRACT.CONTRACT_NUMBER</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>CONTRACT.NAME</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>SALES.ACCOUNT.NAME</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>CONTRACT.STATUS</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>CONTRACT.START_DATE</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>CONTRACT.END_DATE</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>CONTRACT_TERM</searchResultsAdditionalFields>
    </searchLayouts>
    <sharingModel>Private</sharingModel>
    <validationRules>
        <fullName>DisableChangeBillingFrequency</fullName>
        <active>true</active>
        <errorConditionFormula>AND(
   ISPICKVAL( Status, &quot;Attivo&quot;),
ISCHANGED(BillingFrequency__c) 
				)</errorConditionFormula>
        <errorDisplayField>BillingFrequency__c</errorDisplayField>
        <errorMessage>Non è possibile modificare il campo Billing Frequency</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>DisableChangeOLO</fullName>
        <active>true</active>
        <errorConditionFormula>AND(
   ISPICKVAL( Status, &quot;Attivo&quot;),
  ISCHANGED(AccountId) 
				)</errorConditionFormula>
        <errorDisplayField>AccountId</errorDisplayField>
        <errorMessage>Non è possibile modificare il campo Account</errorMessage>
    </validationRules>
    <webLinks>
        <fullName>Sync_To_Billing</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Sync To Billing</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/33.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/33.0/apex.js&quot;)} 

var contr = new sforce.SObject(&quot;Contract&quot;); 
contr.Id = &apos;{!Contract.Id}&apos;; 
var status = &apos;{!Contract.Status}&apos;;
var sync = &apos;{!Contract.SyncBilling__c}&apos;;

if(sync==&apos;0&apos;)
{
	contr.SyncBilling__c = false; 
	var result = sforce.connection.update([contr]); 
	if(result[0].getBoolean(&quot;success&quot;)) 
	{ 
		alert(&apos;Sincronizzazione Avviata&apos;); 
		window.location.reload(); 
	}
	else
	{
		alert(&apos;Errore&apos;); 
			window.location.reload(); 
	}
}
	else
{
	alert(&apos;La sincronizzazione non è necessaria&apos;); 
	window.location.reload(); 
}</url>
    </webLinks>
</CustomObject>
