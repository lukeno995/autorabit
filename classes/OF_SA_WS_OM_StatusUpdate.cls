//Generated by wsdl2apex

public class OF_SA_WS_OM_StatusUpdate {
    public class AggiornaStatoPortTypeEndpoint {
        List<OF_Puntamento_Callout__c> listCustomSett =  OF_Puntamento_Callout__c.getAll().values();
    	String puntamento=listCustomSett[0].OF_OGW__c;
        public String endpoint_x = 'https://'+puntamento+'.ENEL.COM:44300/OrderManagement/RequestServiziAttivi/GW_StatusUpdate';
        public Map<String,String> inputHttpHeaders_x;
        public Map<String,String> outputHttpHeaders_x;
        public String clientCertName_x;
        public String clientCert_x;
        public String clientCertPasswd_x;
        public Integer timeout_x;
        private String[] ns_map_type_info = new String[]{'http://enel.it/schemas/class/ServiziAttivi/OrderManagement/AggiornamentoStato', 'OF_SA_WS_OM_Classi', 'http://enel.it/schemas/class/ServiziAttivi/Esito', 'OF_SA_WS_OM_Response', 'http://xmlns.enel.it/OLO_Gatway/wsdl/concrete/OrderManagement/ServiziAttivi/AggiornamentoStato', 'OF_SA_WS_OM_StatusUpdate'};
        public OF_SA_WS_OM_Response.Esito_element StatusUpdateOM(EOF_EAI_Service_Log__c sl) {
            OF_SA_WS_OM_Classi.AggiornamentoStato_element request_x = new OF_SA_WS_OM_Classi.AggiornamentoStato_element();
            request_x.CODICE_OPERATORE=sl.EOF_CODICE_OPERATORE__c; 
            request_x.CODICE_ORDINE_OLO=sl.EOF_CODICE_ORDINE_OLO__c;
            request_x.DATA_NOTIFICA=OF_SA_GE_Utils.DateToString(sl.EOF_DATA_NOTIFICA__c);
            request_x.ID_NOTIFICA=sl.EOF_ID_NOTIFICA__c;
            request_x.AZIONE=sl.OF_SA_AZIONE__c;
            request_x.CODICE_MOTIVAZIONE=sl.EOF_CODICE_MOTIVAZIONE__c;
            request_x.MOTIVAZIONE=sl.EOF_MOTIVAZIONE__c;
            if(sl.EOF_DATA_PREVISTA_ATTIVAZIONE__c!=null){ 
                request_x.DATA_PREVISTA_ATTIVAZIONE=OF_SA_GE_Utils.DateToStringNoTime(sl.EOF_DATA_PREVISTA_ATTIVAZIONE__c);
            }
            if(!String.isBlank(sl.EOF_ORARIO_APPUNTAMENTO__c)){
            	request_x.ORARIO_APPUNTAMENTO=sl.EOF_ORARIO_APPUNTAMENTO__c;
            }
            request_x.SORGENTE = 'OGW';
            request_x.NOME_CLIENTE=sl.EOF_NOME_CLIENTE__c;
            request_x.COGNOME_CLIENTE=sl.EOF_COGNOME_CLIENTE__c;
            request_x.RECAPITO_TELEFONICO_CLIENTE_1=sl.EOF_RECAPITO_TELEFONICO_CLIENTE_1__c;
            request_x.RECAPITO_TELEFONICO_CLIENTE_2=sl.EOF_RECAPITO_TELEFONICO_CLIENTE_2__c;
            request_x.NOTE=sl.EOF_NOTE__c;
            OF_SA_WS_OM_Response.Esito_element response_x;
            Map<String, OF_SA_WS_OM_Response.Esito_element> response_map_x = new Map<String, OF_SA_WS_OM_Response.Esito_element>();
            response_map_x.put('response_x', response_x);
            system.debug('OSCRM OF_SA_WS_OM_StatusUpdate.StatusUpdateOM: response_map_x:'+response_map_x);
            system.debug('OSCRM OF_SA_WS_OM_StatusUpdate.StatusUpdateOM: request_x:'+request_x);
            
            WebServiceCallout.invoke(
              this,
              request_x,
              response_map_x,
              new String[]{endpoint_x,
              'StatusUpdateOM',
              'http://enel.it/schemas/class/ServiziAttivi/OrderManagement/AggiornamentoStato',
              'AggiornamentoStato',
              'http://enel.it/schemas/class/ServiziAttivi/Esito',
              'Esito',
              'OF_SA_WS_OM_Response.Esito_element'}
            );
            response_x = response_map_x.get('response_x');
            system.debug('response_x-------->'+response_x);
            sl.EOF_Richiesta_Notifica__c = OF_SA_GE_UTils.copy_request(request_x);
          
            //update sl;
            return response_x;
        }
    }
}